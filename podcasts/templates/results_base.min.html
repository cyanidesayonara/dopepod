{% extends results.extend|yesno:"base.min.html,ajax.min.html" %} {% block title %} {% if results.view == "showpod" %} Listen to episodes of {{ podcast.title }} on dopepod {% else %} dopepod {% endif %} {% endblock %} {% block center-stage %}<div class="col-12 results color-2-trans {{ results.view }}">{% include "results_bar.html" %}<div class="row collapse results-collapse fade show" id="results-collapse-{{ results.view }}">{% if results.view == "showpod" %} {% include "showpod.min.html" %} {% endif %}<div class="col-12 results-buttons">{% if results.view == "showpod" %} {% if user.is_authenticated %}<form class="d-inline sub-form" action="{% url 'subscribe' %}" method="POST">{% csrf_token %} <input type="hidden" name="podid" value="{{ results.podcast.podid }}"> {% if results.podcast.is_subscribed %} <button type="submit" class="btn-dope sub-button">Unsubscribe</button> {% else %} <button type="submit" class="btn-dope active sub-button">Subscribe</button> {% endif %}</form>{% endif %} <a class="btn-dope episodes-button toggle" data-toggle="collapse" href="#episodes-collapse" aria-expanded="true" aria-controls="episodes-collapse">{% if request.is_ajax %} {% include "button_loading.min.html" %} {% else %} Episodes {% endif %} </a><a class="btn-dope reviews-button toggle" data-toggle="collapse" href="#reviews-collapse" aria-expanded="false" aria-controls="reviews-collapse">Reviews </a>{% endif %} {% if results.view == "grid" or results.view == "list" %} {% if results.view == "grid" %} <a class="btn-dope view-button active" href="{{ results.view_url }}"><span><i class="fas fa-th" title="Toggle View"></i> </span><span class="d-none"><i class="fas fa-bars" title="Toggle View"></i> </span></a>{% elif results.view == "list" %} <a class="btn-dope view-button active" href="{{ results.view_url }}"><span class="d-none"><i class="fas fa-th" title="Toggle View"></i> </span><span><i class="fas fa-bars" title="Toggle View"></i> </span></a>{% endif %} {% endif %} {% if results.alphabet %} {% if results.alphabet_nix_url %} <a class="btn-dope active toggle" data-toggle="collapse" href="#alphabet-collapse-{{ results.view }}" aria-expanded="false" aria-controls="alphabet-collapse">{{ results.selected_q|capfirst }} </a>{% else %} <a class="btn-dope toggle" data-toggle="collapse" href="#alphabet-collapse-{{ results.view }}" aria-expanded="false" aria-controls="alphabet-collapse">A-Z </a>{% endif %} {% endif %} {% if results.genres %} {% if results.selected_genre %} <a class="btn-dope active toggle" data-toggle="collapse" href="#genre-collapse-{{ results.view }}" aria-expanded="false" aria-controls="genre-collapse">{{ results.selected_genre }} </a>{% else %} <a class="btn-dope toggle" data-toggle="collapse" href="#genre-collapse-{{ results.view }}" aria-expanded="false" aria-controls="genre-collapse">All Genres </a>{% endif %} {% endif %} {% if results.languages %} {% if results.selected_language %} <a class="btn-dope active toggle" data-toggle="collapse" href="#language-collapse-{{ results.view }}" aria-expanded="false" aria-controls="language-collapse">{{ results.selected_language }} </a>{% else %} <a class="btn-dope toggle" data-toggle="collapse" href="#language-collapse-{{ results.view }}" aria-expanded="false" aria-controls="language-collapse">All Languages </a>{% endif %} {% endif %} {% if results.selected_provider == "dopepod" %} <a class="btn-dope options-button active provider-button" href="{{ results.provider_url }}"><span>On dopepod</span> <span class="d-none">On itunes</span> </a>{% elif results.selected_provider == "itunes" %} <a class="btn-dope options-button active provider-button" href="{{ results.provider_url }}"><span class="d-none">On dopepod</span> <span>On itunes</span> </a>{% endif %} {% if results.view == "subscriptions" %} <a class="btn-dope select-all-button" href="#">Select All </a><a class="btn-dope unsubscribe-button" href="{% url 'unsubscribe' %}">Unsubscribe </a>{% endif %} {% if results.view == "playlist" %} <a class="btn-dope update-playlist" href="{% url 'playlist' %}"><i class="fas fa-sync" title="Update"></i> </a>{% endif %} {% if results.view == "settings" %} <button class="btn-dope">Delete Account</button> {% endif %} {% if results.view == "last_played" %} <a class="btn-dope update-last-played" href="{% url 'last_played' %}"><i class="fas fa-sync" title="Update"></i> </a>{% endif %}</div>{% if results.alphabet %}<div class="collapse fade options-collapse" id="alphabet-collapse-{{ results.view }}"><div class="options-buttons">{% if results.alphabet_nix_url %} <a class="btn-dope options-button nix-button" href="{{ results.alphabet_nix_url }}" id="alphabet-nix"><i class="fas fa-times" title="Undo Selection"></i> </a>{% endif %} {% for alphabet in results.alphabet %} {% if alphabet.1 %} <a class="btn-dope options-button" href="{{ alphabet.1 }}">{{ alphabet.0 }} </a>{% else %} <button class="btn-dope active">{{ alphabet.0 }}</button> {% endif %} {% endfor %}</div></div>{% endif %} {% if results.genres %}<div class="collapse fade options-collapse" id="genre-collapse-{{ results.view }}"><div class="options-buttons">{% if results.genre_nix_url %} <a class="btn-dope options-button nix-button" href="{{ results.genre_nix_url }}"><i class="fas fa-times" title="Undo Selection"></i> </a>{% endif %} {% for genre in results.genres %} {% if genre.1 %} <a class="btn-dope options-button" href="{{ genre.1 }}">{{ genre.0 }} </a>{% else %} <button class="btn-dope active">{{ genre.0 }}</button> {% endif %} {% endfor %}</div></div>{% endif %} {% if results.languages %}<div class="collapse fade options-collapse" id="language-collapse-{{ results.view }}"><div class="options-buttons">{% if results.language_nix_url %} <a class="btn-dope options-button nix-button" href="{{ results.language_nix_url }}"><i class="fas fa-times" title="Undo Selection"></i> </a>{% endif %} {% for language in results.languages %} {% if language.1 %} <a class="btn-dope options-button" href="{{ language.1 }}">{{ language.0 }} </a>{% else %} <button class="btn-dope active">{{ language.0 }}</button> {% endif %} {% endfor %}</div></div>{% endif %}<div class="col-12 results-content">{% if results.view == "grid" or results.view == "list" %} {% include "search.min.html" %} {% elif results.view == "charts" %}<div class="row">{% include "charts.min.html" %}</div>{% elif results.view == "subscriptions" %}<div class="row">{% include "subscriptions.min.html" %}</div>{% elif results.view == "showpod" %}<div class="row showpod-collapse fade collapse show" id="episodes-collapse">{% if results.episodes %} {% include "episodes.min.html" %} {% endif %}</div><div class="row showpod-collapse fade collapse" id="reviews-collapse"><div class="col-12"><p>Coming soon</p></div></div>{% elif results.view == "playlist" %}<div class="row">{% include "episodes.min.html" %}</div>{% elif results.view == "last_played"%}<div class="row">{% include "last_played.min.html" %}</div>{% elif results.view == "settings" %} {% include "settings.min.html" %} {% endif %}</div></div></div>{% endblock %}