{% extends request.is_ajax|yesno:'ajax.min.html,base.min.html' %}

{% block title %}
dopepod
{% endblock %}

{% block center-stage %}
<div class="col-12 results color-5-trans login">
  <div class="login-wrapper">
    <h1>
      <strong>
        Discover and listen to thousands of free podcasts on
      </strong>
    </h1>
    {% include 'logo.min.html' %}
    <div class="splash-errors">
      {% include 'splash-errors.min.html' %}
    </div>
    <div class="login-content">
      {% if view == 'signup' %}
        <div class="collapse fade login-collapse" id="splash-collapse">
          <p>
            is a free, mobile-friendly podcast web app that
            scours the internet for fresh podcasts so you don't have to.
          </p>
          <p>
            Sign up now to subscribe to all your favorite podcasts.
          </p>
        </div>
        <div class="collapse fade login-collapse" id="login-collapse">
          <form class="login-form" method="POST" action="{% url 'login' %}">
            {% csrf_token %}
            <div class="login-form-group">
              <label class="sr-only" for="login-login">Email</label>
              <input class="form-control login-field" type="text" name="login" placeholder="Email" autofocus="autofocus" required id="login-login" value="{{ email }}">
            </div>
            <div class="form-row">
              <div class="col login-form-group">
                <label class="sr-only" for="login-password">Password</label>
                <input class="form-control login-field" type="password" name="password" placeholder="Password" required id="login-password">
              </div>
              <div class="col-auto">
                <button type="submit" class="btn-dope active">Login</button>
              </div>
            </div>
            <div class="form-row">
              <div class="col">
                <a class="password-link" href="/?view=password">
                  Forgot Password?
                </a>
              </div>
              <div class="col form-check">
                <label class="form-check-label">
                  <input class="form-check-input" type="checkbox" name="remember" id="remember">
                  Remember me
                </label>
              </div>
            </div>
          </form>
        </div>
        <div class="collapse fade login-collapse show active" id="signup-collapse">
          <form class="signup-form" method="POST" action="{% url 'signup' %}">
            {% csrf_token %}
            <div class="login-form-group">
              <label class="sr-only" for="signup-email">Email</label>
              <input class="form-control login-field" type="email" name="email" size="30" placeholder="Email" required id="signup-email">
            </div>
            <div class="login-form-group">
              <label class="sr-only" for="signup-password1">Password</label>
              <input class="form-control login-field" type="password" name="password1" placeholder="Password" required id="signup-password1">
            </div>
            <div class="form-row">
              <div class="col login-form-group">
                <label class="sr-only" for="signup-password2">Password (again)</label>
                <input class="form-control login-field" type="password" name="password2" placeholder="Password (again)" required="" id="signup-password2">
              </div>
              <div class="col-auto">
                <button type="submit" class="btn-dope active">SignUp</button>
              </div>
            </div>
          </form>
        </div>
        <div class="collapse fade login-collapse" id="password-collapse">
          <p>
            Forgot your password? Enter your email address below, and we'll send you an email with a link allowing you to reset it.
          </p>
          <form class="password-form" method="POST" action="{% url 'password_reset' %}">
            {% csrf_token %}
            <div class="form-row">
              <div class="col login-form-group">
                <label class="sr-only" for="forgot-email">Email</label>
                <input class="form-control login-field" id="forgot-email" type="email" name="email" size="30" placeholder="Email" required>
              </div>
              <div class="col-auto">
                <button class="btn-dope active" type="submit">
                  Send
                </button>
              </div>
            </div>
          </form>
        </div>
      {% elif view == 'login' %}
        <div class="collapse fade login-collapse" id="splash-collapse">
          <p>
            is a free, mobile-friendly podcast web app that
            scours the internet for fresh podcasts so you don't have to.
          </p>
          <p>
            Sign up now to subscribe to all your favorite podcasts.
          </p>
        </div>
        <div class="collapse fade login-collapse show active" id="login-collapse">
          <form class="login-form" method="POST" action="{% url 'login' %}">
            {% csrf_token %}
            <div class="login-form-group">
              <label class="sr-only" for="login-login">Email</label>
              <input class="form-control login-field" type="text" name="login" placeholder="Email" autofocus="autofocus" required id="login-login" value="{{ email }}">
            </div>
            <div class="form-row">
              <div class="col login-form-group">
                <label class="sr-only" for="login-password">Password</label>
                <input class="form-control login-field" type="password" name="password" placeholder="Password" required id="login-password">
              </div>
              <div class="col-auto">
                <button type="submit" class="btn-dope active">Login</button>
              </div>
            </div>
            <div class="form-row">
              <div class="col">
                <a class="password-link" href="/?view=password">
                  Forgot Password?
                </a>
              </div>
              <div class="col form-check">
                <label class="form-check-label">
                  <input class="form-check-input" type="checkbox" name="remember" id="remember">
                  Remember me
                </label>
              </div>
            </div>
          </form>
        </div>
        <div class="collapse fade login-collapse" id="signup-collapse">
          <form class="signup-form" method="POST" action="{% url 'signup' %}">
            {% csrf_token %}
            <div class="login-form-group">
              <label class="sr-only" for="signup-email">Email</label>
              <input class="form-control login-field" type="email" name="email" size="30" placeholder="Email" required id="signup-email">
            </div>
            <div class="login-form-group">
              <label class="sr-only" for="signup-password1">Password</label>
              <input class="form-control login-field" type="password" name="password1" placeholder="Password" required id="signup-password1">
            </div>
            <div class="form-row">
              <div class="col login-form-group">
                <label class="sr-only" for="signup-password2">Password (again)</label>
                <input class="form-control login-field" type="password" name="password2" placeholder="Password (again)" required="" id="signup-password2">
              </div>
              <div class="col-auto">
                <button type="submit" class="btn-dope active">Signup</button>
              </div>
            </div>
          </form>
        </div>
        <div class="collapse fade login-collapse" id="password-collapse">
          <p>
            Forgot your password? Enter your email address below, and we'll send you an email with a link allowing you to reset it.
          </p>
          <form class="password-form" method="POST" action="{% url 'password_reset' %}">
            {% csrf_token %}
            <div class="form-row">
              <div class="col login-form-group">
                <label class="sr-only" for="forgot-email">Email</label>
                <input class="form-control login-field" id="forgot-email" type="email" name="email" size="30" placeholder="Email" required>
              </div>
              <div class="col-auto">
                <button class="btn-dope active" type="submit">
                  Send
                </button>
              </div>
            </div>
          </form>
        </div>
      {% elif view == 'password' %}
        <div class="collapse fade login-collapse" id="splash-collapse">
          <p>
            is a free, mobile-friendly podcast web app that
            scours the internet for fresh podcasts so you don't have to.
          </p>
          <p>
            Sign up now to subscribe to all your favorite podcasts.
          </p>
        </div>
        <div class="collapse fade login-collapse" id="login-collapse">
          <form class="login-form" method="POST" action="{% url 'login' %}">
            {% csrf_token %}
            <div class="login-form-group">
              <label class="sr-only" for="login-login">Email</label>
              <input class="form-control login-field" type="text" name="login" placeholder="Email" autofocus="autofocus" required id="login-login" value="{{ email }}">
            </div>
            <div class="form-row">
              <div class="col login-form-group">
                <label class="sr-only" for="login-password">Password</label>
                <input class="form-control login-field" type="password" name="password" placeholder="Password" required id="login-password">
              </div>
              <div class="col-auto">
                <button type="submit" class="btn-dope active">Login</button>
              </div>
            </div>
            <div class="form-row">
              <div class="col">
                <a class="password-link" href="/?view=password">
                  Forgot Password?
                </a>
              </div>
              <div class="col form-check">
                <label class="form-check-label">
                  <input class="form-check-input" type="checkbox" name="remember" id="remember">
                  Remember me
                </label>
              </div>
            </div>
          </form>
        </div>
        <div class="collapse fade login-collapse" id="signup-collapse">
          <form class="signup-form" method="POST" action="{% url 'signup' %}">
            {% csrf_token %}
            <div class="login-form-group">
              <label class="sr-only" for="signup-email">Email</label>
              <input class="form-control login-field" type="email" name="email" size="30" placeholder="Email" required id="signup-email">
            </div>
            <div class="login-form-group">
              <label class="sr-only" for="signup-password1">Password</label>
              <input class="form-control login-field" type="password" name="password1" placeholder="Password" required id="signup-password1">
            </div>
            <div class="form-row">
              <div class="col login-form-group">
                <label class="sr-only" for="signup-password2">Password (again)</label>
                <input class="form-control login-field" type="password" name="password2" placeholder="Password (again)" required="" id="signup-password2">
              </div>
              <div class="col-auto">
                <button type="submit" class="btn-dope active">Signup</button>
              </div>
            </div>
          </form>
        </div>
        <div class="collapse fade login-collapse show active" id="password-collapse">
          <p>
            Forgot your password? Enter your email address below, and we'll send you an email with a link allowing you to reset it.
          </p>
          <form class="password-form" method="POST" action="{% url 'password_reset' %}">
            {% csrf_token %}
            <div class="form-row">
              <div class="col login-form-group">
                <label class="sr-only" for="forgot-email">Email</label>
                <input class="form-control login-field" id="forgot-email" type="email" name="email" size="30" placeholder="Email" required>
              </div>
              <div class="col-auto">
                <button class="btn-dope active" type="submit">
                  Send
                </button>
              </div>
            </div>
          </form>
        </div>
      {% else %}
        <div class="collapse fade login-collapse show active" id="splash-collapse">
          <p>
            is a free, mobile-friendly podcast web app that
            scours the internet for fresh podcasts so you don't have to.
          </p>
          <p>
            Sign up now to subscribe to all your favorite podcasts.
          </p>
        </div>
        <div class="collapse fade login-collapse" id="login-collapse">
          <form class="login-form" method="POST" action="{% url 'login' %}">
            {% csrf_token %}
            <div class="login-form-group">
              <label class="sr-only" for="login-login">Email</label>
              <input class="form-control login-field" type="text" name="login" placeholder="Email" autofocus="autofocus" required id="login-login" value="{{ email }}">
            </div>
            <div class="form-row">
              <div class="col login-form-group">
                <label class="sr-only" for="login-password">Password</label>
                <input class="form-control login-field" type="password" name="password" placeholder="Password" required id="login-password">
              </div>
              <div class="col-auto">
                <button type="submit" class="btn-dope active">Login</button>
              </div>
            </div>
            <div class="form-row">
              <div class="col">
                <a class="password-link" href="/?view=password">
                  Forgot Password?
                </a>
              </div>
              <div class="col form-check">
                <label class="form-check-label">
                  <input class="form-check-input" type="checkbox" name="remember" id="remember">
                  Remember me
                </label>
              </div>
            </div>
          </form>
        </div>
        <div class="collapse fade login-collapse" id="signup-collapse">
          <form class="signup-form" method="POST" action="{% url 'signup' %}">
            {% csrf_token %}
            <div class="login-form-group">
              <label class="sr-only" for="signup-email">Email</label>
              <input class="form-control login-field" type="email" name="email" size="30" placeholder="Email" required id="signup-email">
            </div>
            <div class="login-form-group">
              <label class="sr-only" for="signup-password1">Password</label>
              <input class="form-control login-field" type="password" name="password1" placeholder="Password" required id="signup-password1">
            </div>
            <div class="form-row">
              <div class="col login-form-group">
                <label class="sr-only" for="signup-password2">Password (again)</label>
                <input class="form-control login-field" type="password" name="password2" placeholder="Password (again)" required="" id="signup-password2">
              </div>
              <div class="col-auto">
                <button type="submit" class="btn-dope active">Signup</button>
              </div>
            </div>
          </form>
        </div>
        <div class="collapse fade login-collapse" id="password-collapse">
          <p>
            Forgot your password? Enter your email address below, and we'll send you an email with a link allowing you to reset it.
          </p>
          <form class="password-form" method="POST" action="{% url 'password_reset' %}">
            {% csrf_token %}
            <div class="form-row">
              <div class="col login-form-group">
                <label class="sr-only" for="forgot-email">Email</label>
                <input class="form-control login-field" id="forgot-email" type="email" name="email" size="30" placeholder="Email" required>
              </div>
              <div class="col-auto">
                <button class="btn-dope active" type="submit">
                  Send
                </button>
              </div>
            </div>
          </form>
        </div>
      {% endif %}
    </div>
    <div class="login-buttons">
      {% if view == 'signup' %}
        <button class="btn-dope toggle" href="#login-collapse" data-toggle="collapse" aria-expanded="false" aria-controls="login-collapse">
          Login
        </button>
        <button class="btn-dope active toggle" href="#signup-collapse" data-toggle="collapse" aria-expanded="true" aria-controls="signup-collapse">
          Signup
        </button>
      {% elif view == 'login' %}
        <button class="btn-dope toggle" href="#login-collapse" data-toggle="collapse" aria-expanded="true" aria-controls="login-collapse">
          Login
        </button>
        <button class="btn-dope toggle" href="#signup-collapse" data-toggle="collapse" aria-expanded="false" aria-controls="signup-collapse">
          Signup
        </button>
      {% else %}
        <button class="btn-dope toggle" href="#login-collapse" data-toggle="collapse" aria-expanded="false" aria-controls="login-collapse">
          Login
        </button>
        <button class="btn-dope toggle" href="#signup-collapse" data-toggle="collapse" aria-expanded="false" aria-controls="signup-collapse">
          Signup
        </button>
      {% endif %}
    </div>
    <div class="login-buttons">
      <a class="btn-dope btn-dope-social socialaccount_provider" href="/account/google/login/?process=login">
        <span class="social-icon">
          <i class='fab fa-google' title="Google Login"></i>
        </span>
        <span class="social-button">
          Sign in with Google
        </span>
      </a>
    </div>
  </div>
</div>
{% endblock %}
